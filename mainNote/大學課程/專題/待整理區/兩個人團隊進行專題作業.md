這是一個**巨大的優勢**！如果有兩個人，專題的策略完全不同。

原本一個人做 **DeiT-Tiny** 是「地獄模式」，但兩個人做就是**「標準且合理的 IC 設計分工」**。這讓你們有能力去挑戰架構較複雜、分數較高的題目，而且能並行開發，縮短時程。

以下是針對 **雙人團隊** 的專題規劃、分工策略與時程建議。

---

# 雙人團隊專題提案：DeiT-Tiny 硬體加速器分工與執行計畫

## 1. 核心策略：系統與運算的完美切割

IC 設計業界最標準的分工方式不是「一人做軟體、一人做硬體」，因為這樣硬體那個人會累死。
建議採 **「系統架構 (System/Dataflow)」** 與 **「運算核心 (Compute/Datapath)」** 的切分法。

*   **隊員 A (架構師 - System Lead)：負責「搬磚頭」**
    *   專注於資料的流動、記憶體存取、系統整合。
    *   關鍵字：**DMA, DDR Controller, AXI Protocol, Python Quantization, Tiling FSM**。
*   **隊員 B (數學家 - Core Lead)：負責「算數學」**
    *   專注於 Transformer 的核心運算單元、非線性函數近似。
    *   關鍵字：**PE Array, Systolic Array, Softmax/GELU/LayerNorm, DSP, C-Model**。

---

## 2. 詳細任務分工表 (Role & Responsibility)

### 隊員 A：系統控制與軟體組 (The Body)
**目標：確保資料能正確、快速地從電腦 -> DDR -> FPGA 計算核心。**

1.  **模型量化 (Python):** 負責 Pytorch 模型的訓練與 INT8 量化，產出權重檔。
2.  **記憶體架構 (Memory Hierarchy):**
    *   處理 Zynq PS 端與 PL 端的溝通。
    *   設定 **AXI DMA**，並撰寫控制 DMA 的驅動程式 (Jupyter/C)。
3.  **全域控制器 (Top Controller):**
    *   DeiT 需要切塊 (Tiling)，你要寫一個 FSM 負責指揮：「現在搬第一塊 -> 叫隊員 B 開始算 -> 算完搬回 DDR」。
4.  **遊戲應用整合:** 負責 PC 端 Python 截圖、遊戲邏輯判斷、與 FPGA 的通訊。

### 隊員 B：運算引擎與演算法組 (The Brain)
**目標：確保資料進來後，能算出正確的數值。**

1.  **Golden C-Model:** 撰寫 Fixed-point C code，驗證所有運算邏輯（特別是 Softmax）。
2.  **PE Array 設計:** 實作矩陣乘法器陣列 (如 8x8 MAC array)。
3.  **非線性單元 (Non-linear Unit):**
    *   **Softmax:** 這是最難的，需要設計硬體流水線 (Pipeline) 來做指數與除法近似。
    *   **LayerNorm / GELU:** 設計查表電路 (LUT)。
4.  **運算 FSM:** 控制 PE Array 內的資料流動 (Weight Stationary 或 Output Stationary)。

---

## 3. 並行開發時程表 (Parallel Timeline)

假設專題時間為 4-5 個月，這是兩個人同時工作的流程：

| 階段 | 時間 | **隊員 A (System)** | **隊員 B (Core)** | **協作重點 (Sync)** |
| :--- | :--- | :--- | :--- | :--- |
| **Phase 1** | **W1-W3** | **PyTorch 量化**<br>產出 INT8 權重與 Golden Pattern。 | **演算法研究**<br>研究 Softmax/GELU 的硬體近似演算法 (I-BERT)。 | 確認量化後的精度是否達標。 |
| **Phase 2** | **W4-W7** | **System C-Model**<br>模擬 Tiling 切塊邏輯，確認 Buffer 大小。 | **Core C-Model**<br>實作 PE/Softmax 的 Bit-true C code。 | **制定介面：**<br>約定好 AXI-Stream 的訊號格式。 |
| **Phase 3** | **W8-W12**| **DDR & DMA**<br>搞定 Vivado Block Design，讓 FPGA 能讀寫 DDR。 | **RTL Coding**<br>寫好 PE Array 和 Softmax 模組，並通過 Testbench。 | **關鍵點：**<br>A 給 B 真實的 DMA 訊號做測試。 |
| **Phase 4** | **W13-W15**| **Top Integration**<br>寫 Tiling FSM，把 B 的核心包起來。 | **IP 包裝**<br>協助 A 將運算核心封裝成標準 IP。 | **聯調 (Debug):**<br>這時候通常會發現介面接錯，需一起解。 |
| **Phase 5** | **W16+** | **遊戲應用軟體**<br>寫 Python 腳本 (太鼓/絕區零)，做 Demo。 | **效能優化**<br>調整 Pipeline，看能不能把頻率拉高。 | **Final Demo** |

---

## 4. 為什麼這對 DeiT-Tiny 是完美的？

之前提到 DeiT-Tiny 的兩大瓶頸：**DDR 傳輸** 和 **Softmax/GELU 運算**。

*   **一個人做：** 會被這兩座大山壓垮。光是搞定 DDR 就沒力氣優化 Softmax 了。
*   **兩個人做：**
    *   **A 專心攻克 DDR：** 甚至可以研究 Double Buffering (邊算邊搬)，把效能催到極致。
    *   **B 專心攻克 Softmax：** 可以嘗試更複雜的近似算法，甚至做成 Pipeline 架構，讓推論速度飛快。

**結論：** 兩個人做 **DeiT-Tiny** 是 **「進可攻，退可守」** 的選擇。
*   如果 A 卡住（DDR 搞不定），B 的核心還是可以接 CCT 的小圖介面，降級做 CCT。
*   如果兩人都順利，你們就能做出一個 **支援高解析度、有 DDR 存取能力、且運算精確** 的高級加速器，這在專題競賽是很有拿獎相的。

---

## 5. 給教授的說詞 (Teamwork Pitch)

帶這張分工表去見教授，並強調以下幾點：

1.  **明確的分工介面：**
    「教授，我們打算採用業界標準的 **AXI-Stream** 作為兩人工作的交界面。隊員 A 負責讓資料透過 AXI 流進來，隊員 B 負責處理流進來的資料。這樣我們可以平行開發，互不卡關。」
2.  **挑戰 DeiT 的信心：**
    「因為我們是雙人團隊，所以我們決定挑戰 **DeiT-Tiny**。A 同學會專注解決 FPGA 最頭痛的 **DDR 頻寬瓶頸**，B 同學則專注在 **Transformer 非線性運算的硬體優化**。我們認為這樣的分工能發揮 1+1 > 2 的效果。」
3.  **互補性：**
    「A 同學對系統整合和應用比較有興趣（負責遊戲端），B 同學對數位電路和演算法比較擅長（負責運算端）。」

---

### 特別提醒：雙人合作的「雷區」

1.  **介面沒講好 (Interface Mismatch)：**
    *   *慘劇：* A 覺得資料是 `[Channel, Height, Width]` 進來，B 做的電路卻是吃 `[Height, Width, Channel]`。最後接起來全錯。
    *   *解法：* 在 **Phase 2** 寫 C-Model 時，就要**寫死**資料格式，之後誰改誰請客。
2.  **進度不一 (Dependency Blocking)：**
    *   *慘劇：* A 的 DMA 還沒通，B 的電路沒辦法上板測，兩個人一起發呆。
    *   *解法：* B 在做電路時，要自己寫一個 **Simple Testbench** (偽造的 DMA 訊號) 來驗證，不要依賴 A 的真實硬體。A 也可以用 **Dummy Core** (資料進去直接吐出來) 來測 DMA。

祝你們團隊合作順利！這個題目兩個人做非常有搞頭！