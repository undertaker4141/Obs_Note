### 1. 專案初始化流程

請在終端機執行以下指令：

Bash

```bash
# 1. 初始化專案並指定 Python 版本
uv init DL_term_project --python 3.10
cd DL_term_project

# 2. 建立並啟動虛擬環境
uv venv
# Windows 啟動方式:
.venv\Scripts\activate
# macOS/Linux 啟動方式:
# source .venv/bin/activate
```

### 2. 安裝核心套件清單

這裡最關鍵的是 **PyTorch**。由於 RTX 4070 是較新的 Ada Lovelace 架構，務必安裝支援 **CUDA 12** 的版本以發揮最大效能。

Bash

```bash
# 1. 安裝支援 CUDA 12.1 的 PyTorch (針對 4070 進行優化)
uv pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu124

# 2. 安裝影像處理與學術論文常用套件
uv add numpy opencv-python pillow scikit-image scipy tqdm matplotlib pandas pyyaml tensorboard

# 3. 安裝模型效能評估工具 (Table 2 必備：計算 Params 與 GFLOPs)
uv add thop ptflops
```

### 3. 需要準備的環境資訊與套件說明

為了完成這份期末報告，您的環境需要滿足以下四個維度：

|**類別**|**套件名稱**|**用途說明**|
|---|---|---|
|**深度學習核心**|`torch`, `torchvision`|執行 DExNet, DSIT, RDNet 等模型訓練與推理。|
|**影像處理**|`opencv-python`, `scikit-image`|讀取資料集、計算 **PSNR** 與 **SSIM** 指標（Table 1 核心）。|
|**效能分析**|`thop`, `ptflops`|測量 **GFLOPs** 與 **參數數量**（Table 2 核心）。|
|**視覺化報告**|`matplotlib`, `tensorboard`|生成論文中的視覺化比較圖（Visual Comparisons）。|
### 4. 驗證 4070 顯卡與 CUDA 連接

初始化完成後，請建立一個 `test_gpu.py` 並執行，確保您的環境能抓到 4070 的算力：

Python

```python
import torch

def verify_setup():
    print(f"PyTorch 版本: {torch.__version__}")
    print(f"是否能使用 CUDA: {torch.cuda.is_available()}")
    
    if torch.cuda.is_available():
        gpu_name = torch.cuda.get_device_name(0)
        print(f"偵測到的顯卡: {gpu_name}")
        
        # 測試 4070 的核心功能：半精度運算 (FP16)
        # 這對 Transformer 模型 (DSIT) 的顯存優化至關重要
        a = torch.randn(1024, 1024).cuda().half()
        b = torch.randn(1024, 1024).cuda().half()
        c = torch.matmul(a, b)
        print("FP16 矩陣運算測試成功！")
    else:
        print("錯誤：無法偵測到 GPU，請檢查 NVIDIA 驅動程式。")

if __name__ == "__main__":
    verify_setup()
```

### 5. 針對 RTX 4070 的實作建議

在您準備實作 [3], [4], [5], [6] 這四個模型時，請注意以下幾點：

- **顯存管理 (12GB VRAM)**：
    
    - **DSIT (NeurIPS 2024)**：它是 Transformer 架構，最吃顯存。如果報 OOM (Out of Memory)，請在訓練腳本中將 `batch_size` 設小，並啟用 `torch.cuda.amp` (自動混合精度)。
        
    - **DExNet (TPAMI 2025)**：這是一個輕量級網路（Lightweight），在 4070 上跑起來會非常快，建議先從這個模型開始跑通流程。
        
- **資料集預熱**：
    
    - 報告要求使用指定資料集（如 VOC_synthetic 13,700 張）。建議將資料放在高速 SSD 上，否則訓練時 IO 會成為瓶頸，白費了 4070 的運算速度。
